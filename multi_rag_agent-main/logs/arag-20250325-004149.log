2025-03-25 00:41:49,272 - root - INFO - Logging initialized with level INFO
2025-03-25 00:41:49,272 - root - INFO - Log file: logs/arag-20250325-004149.log
2025-03-25 00:41:49,272 - arag - INFO - [Session: 2425e376-5631-49cd-b726-5a94d8604029] Processing query: What is equal opportunity employment?
2025-03-25 00:41:49,294 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-03-25 00:41:49,294 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: BAAI/bge-large-en
2025-03-25 00:41:52,766 - arag.core.vector_db - INFO - Initialized sentence-transformers model
2025-03-25 00:41:52,767 - arag.core.vector_db - INFO - Vector DB client initialized with base URL: http://localhost:8765
2025-03-25 00:41:52,848 - httpx - INFO - HTTP Request: GET http://localhost:8765/v1/.well-known/openid-configuration "HTTP/1.1 404 Not Found"
2025-03-25 00:41:52,861 - httpx - INFO - HTTP Request: GET http://localhost:8765/v1/meta "HTTP/1.1 200 OK"
2025-03-25 00:41:52,985 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-03-25 00:41:53,025 - arag.core.vector_db - INFO - Connected to Weaviate at http://localhost:8765
2025-03-25 00:41:53,025 - arag.core.ai_client - INFO - Google AI client initialized
2025-03-25 00:41:53,025 - arag.core.vector_db - INFO - Performing health check for vector DB type: weaviate
2025-03-25 00:41:53,027 - httpx - INFO - HTTP Request: GET http://localhost:8765/v1/.well-known/ready "HTTP/1.1 200 OK"
2025-03-25 00:41:53,028 - arag.agents.query_rewriter - INFO - Query Rewriter Agent initialized
2025-03-25 00:41:53,028 - arag.agents.knowledge_extractor - INFO - Knowledge Extractor Agent initialized
2025-03-25 00:41:53,028 - arag.agents.missing_info - INFO - Missing Info Agent initialized
2025-03-25 00:41:53,028 - arag.agents.knowledge_gaps - INFO - Knowledge Gaps Agent initialized
2025-03-25 00:41:53,028 - arag.agents.decision - INFO - Decision Agent initialized
2025-03-25 00:41:53,028 - arag.agents.answer - INFO - Answer Agent initialized
2025-03-25 00:41:53,028 - arag.agents.evaluator - INFO - Evaluator Agent initialized
2025-03-25 00:41:53,028 - arag.agents.improver - INFO - Improver Agent initialized
2025-03-25 00:41:53,028 - arag.agents.process - INFO - Process Agent initialized
2025-03-25 00:41:53,028 - arag.core.orchestrator - INFO - Orchestrator initialized with all agents
2025-03-25 00:41:53,029 - arag.core.memory - INFO - Memory initialized for session 2425e376-5631-49cd-b726-5a94d8604029
2025-03-25 00:41:53,029 - arag.agents.process - INFO - Generating process narrative for stage: initialization
2025-03-25 00:41:54,007 - arag.core.ai_client - INFO - Generated process narrative for stage: initialization
2025-03-25 00:41:54,007 - arag.agents.process - INFO - Generated process narrative for stage: initialization
2025-03-25 00:41:54,007 - arag.core.orchestrator - INFO - Starting iteration 1/3
2025-03-25 00:41:54,007 - arag.core.orchestrator - INFO - Running Query Rewriter Agent
2025-03-25 00:41:54,007 - arag.agents.query_rewriter - INFO - Rewriting query: What is equal opportunity employment?
2025-03-25 00:41:54,889 - arag.core.ai_client - INFO - Generated 3 query variations
2025-03-25 00:41:54,890 - arag.agents.query_rewriter - INFO - Generated 3 query variations
2025-03-25 00:41:54,890 - arag.agents.process - INFO - Generating process narrative for stage: query_rewriting
2025-03-25 00:41:55,845 - arag.core.ai_client - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:41:55,846 - arag.agents.process - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:41:55,846 - arag.core.orchestrator - INFO - Query rewriting completed in 1.84s
2025-03-25 00:41:55,846 - arag.core.orchestrator - INFO - Running Document Retrieval
2025-03-25 00:41:55,846 - arag.core.vector_db - INFO - Batch querying vector DB with 3 queries
2025-03-25 00:41:55,846 - arag.core.vector_db - INFO - Querying vector DB for: "equal opportunity employment definition"...
2025-03-25 00:41:56,078 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:41:56,079 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:41:56,083 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:41:56,083 - arag.core.vector_db - INFO - Querying vector DB for: "EEO legal requirements"...
2025-03-25 00:41:56,112 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:41:56,112 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:41:56,116 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:41:56,116 - arag.core.vector_db - INFO - Querying vector DB for: "fair hiring practices"...
2025-03-25 00:41:56,192 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:41:56,193 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:41:56,196 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:41:56,196 - arag.core.vector_db - INFO - Batch query returned 13 unique documents
2025-03-25 00:41:56,197 - arag.agents.process - INFO - Generating process narrative for stage: document_retrieval
2025-03-25 00:41:56,943 - arag.core.ai_client - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:41:56,943 - arag.agents.process - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:41:56,943 - arag.core.orchestrator - INFO - Document retrieval completed in 1.10s
2025-03-25 00:41:56,943 - arag.core.orchestrator - INFO - Running Knowledge Agent
2025-03-25 00:41:56,943 - arag.agents.knowledge_extractor - INFO - Extracting knowledge from 13 document chunks
2025-03-25 00:41:59,187 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 6 column 1 (char 732)
2025-03-25 00:41:59,187 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:02,049 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 8 column 1 (char 855)
2025-03-25 00:42:02,050 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:02,708 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:02,708 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:06,342 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 10 column 1 (char 1178)
2025-03-25 00:42:06,342 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:06,888 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:06,888 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:07,520 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:07,521 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:08,055 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:08,055 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:08,573 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:08,573 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:09,079 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:09,079 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:09,632 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:09,632 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:10,177 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:10,178 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:10,734 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:10,734 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:11,283 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:11,283 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:11,283 - arag.agents.knowledge_extractor - INFO - Extracted 13 knowledge items
2025-03-25 00:42:11,284 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_extraction
2025-03-25 00:42:12,057 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:42:12,057 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:42:12,057 - arag.core.orchestrator - INFO - Knowledge extraction completed in 15.11s
2025-03-25 00:42:12,057 - arag.core.orchestrator - INFO - Running Missing Info Agent
2025-03-25 00:42:12,058 - arag.agents.missing_info - INFO - Identifying missing information in 13 knowledge items
2025-03-25 00:42:19,503 - arag.core.ai_client - WARNING - Failed to parse missing info identification result as JSON
2025-03-25 00:42:19,504 - arag.agents.missing_info - INFO - Identified 0 missing information references
2025-03-25 00:42:19,504 - arag.agents.process - INFO - Generating process narrative for stage: missing_info
2025-03-25 00:42:20,216 - arag.core.ai_client - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:42:20,216 - arag.agents.process - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:42:20,217 - arag.core.orchestrator - INFO - Missing info identification completed in 8.16s
2025-03-25 00:42:20,217 - arag.core.orchestrator - INFO - Running Knowledge Gaps Agent
2025-03-25 00:42:20,217 - arag.agents.knowledge_gaps - INFO - Identifying knowledge gaps in 13 knowledge items
2025-03-25 00:42:24,621 - arag.core.ai_client - WARNING - Failed to parse knowledge gaps identification result as JSON
2025-03-25 00:42:24,621 - arag.agents.knowledge_gaps - INFO - Identified 0 knowledge gaps with completeness score 0
2025-03-25 00:42:24,622 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_gaps
2025-03-25 00:42:25,338 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:42:25,338 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:42:25,338 - arag.core.orchestrator - INFO - Knowledge gap analysis completed in 5.12s
2025-03-25 00:42:25,338 - arag.core.orchestrator - INFO - Running Decision Agent
2025-03-25 00:42:25,339 - arag.agents.decision - INFO - Making decision at iteration 1/3
2025-03-25 00:42:27,079 - arag.core.ai_client - WARNING - Failed to parse decision making result as JSON
2025-03-25 00:42:27,079 - arag.agents.decision - INFO - Decision: continue with confidence 50
2025-03-25 00:42:27,080 - arag.agents.process - INFO - Generating process narrative for stage: decision
2025-03-25 00:42:27,898 - arag.core.ai_client - INFO - Generated process narrative for stage: decision
2025-03-25 00:42:27,898 - arag.agents.process - INFO - Generated process narrative for stage: decision
2025-03-25 00:42:27,898 - arag.core.orchestrator - INFO - Decision making completed in 2.56s
2025-03-25 00:42:27,899 - arag.core.orchestrator - INFO - Starting iteration 2/3
2025-03-25 00:42:27,899 - arag.core.orchestrator - INFO - Running Query Rewriter Agent
2025-03-25 00:42:27,899 - arag.agents.query_rewriter - INFO - Rewriting query: What is equal opportunity employment?
2025-03-25 00:42:28,789 - arag.core.ai_client - INFO - Generated 3 query variations
2025-03-25 00:42:28,789 - arag.agents.query_rewriter - INFO - Generated 3 query variations
2025-03-25 00:42:28,789 - arag.agents.process - INFO - Generating process narrative for stage: query_rewriting
2025-03-25 00:42:29,635 - arag.core.ai_client - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:42:29,635 - arag.agents.process - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:42:29,635 - arag.core.orchestrator - INFO - Query rewriting completed in 1.74s
2025-03-25 00:42:29,635 - arag.core.orchestrator - INFO - Running Document Retrieval
2025-03-25 00:42:29,636 - arag.core.vector_db - INFO - Batch querying vector DB with 3 queries
2025-03-25 00:42:29,636 - arag.core.vector_db - INFO - Querying vector DB for: "equal opportunity employment" definition...
2025-03-25 00:42:29,729 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:42:29,729 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:42:29,734 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:42:29,735 - arag.core.vector_db - INFO - Querying vector DB for: "EEO" policy guidelines...
2025-03-25 00:42:29,763 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:42:29,763 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:42:29,768 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:42:29,768 - arag.core.vector_db - INFO - Querying vector DB for: "fair employment practices" legal requirements...
2025-03-25 00:42:29,848 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:42:29,848 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:42:29,852 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:42:29,852 - arag.core.vector_db - INFO - Batch query returned 12 unique documents
2025-03-25 00:42:29,852 - arag.agents.process - INFO - Generating process narrative for stage: document_retrieval
2025-03-25 00:42:30,639 - arag.core.ai_client - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:42:30,639 - arag.agents.process - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:42:30,639 - arag.core.orchestrator - INFO - Document retrieval completed in 1.00s
2025-03-25 00:42:30,639 - arag.core.orchestrator - INFO - Running Knowledge Agent
2025-03-25 00:42:30,639 - arag.agents.knowledge_extractor - INFO - Extracting knowledge from 12 document chunks
2025-03-25 00:42:32,861 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 6 column 1 (char 732)
2025-03-25 00:42:32,861 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:35,683 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 8 column 1 (char 855)
2025-03-25 00:42:35,684 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:36,241 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:36,241 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:39,911 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 10 column 1 (char 1189)
2025-03-25 00:42:39,911 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:40,445 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:40,445 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:41,005 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:41,005 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:41,574 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:41,575 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:42,119 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:42,119 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:42,678 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:42,678 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:43,233 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:43,234 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:43,796 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:43,797 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:44,386 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:42:44,386 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:42:44,386 - arag.agents.knowledge_extractor - INFO - Extracted 12 knowledge items
2025-03-25 00:42:44,386 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_extraction
2025-03-25 00:42:45,198 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:42:45,198 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:42:45,198 - arag.core.orchestrator - INFO - Knowledge extraction completed in 14.56s
2025-03-25 00:42:45,198 - arag.core.orchestrator - INFO - Running Missing Info Agent
2025-03-25 00:42:45,198 - arag.agents.missing_info - INFO - Identifying missing information in 13 knowledge items
2025-03-25 00:42:52,272 - arag.core.ai_client - WARNING - Failed to parse missing info identification result as JSON
2025-03-25 00:42:52,272 - arag.agents.missing_info - INFO - Identified 0 missing information references
2025-03-25 00:42:52,272 - arag.agents.process - INFO - Generating process narrative for stage: missing_info
2025-03-25 00:42:52,950 - arag.core.ai_client - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:42:52,950 - arag.agents.process - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:42:52,950 - arag.core.orchestrator - INFO - Missing info identification completed in 7.75s
2025-03-25 00:42:52,950 - arag.core.orchestrator - INFO - Running Knowledge Gaps Agent
2025-03-25 00:42:52,951 - arag.agents.knowledge_gaps - INFO - Identifying knowledge gaps in 13 knowledge items
2025-03-25 00:42:56,982 - arag.core.ai_client - WARNING - Failed to parse knowledge gaps identification result as JSON
2025-03-25 00:42:56,982 - arag.agents.knowledge_gaps - INFO - Identified 0 knowledge gaps with completeness score 0
2025-03-25 00:42:56,982 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_gaps
2025-03-25 00:42:57,640 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:42:57,640 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:42:57,640 - arag.core.orchestrator - INFO - Knowledge gap analysis completed in 4.69s
2025-03-25 00:42:57,640 - arag.core.orchestrator - INFO - Running Decision Agent
2025-03-25 00:42:57,640 - arag.agents.decision - INFO - Making decision at iteration 2/3
2025-03-25 00:42:59,376 - arag.core.ai_client - WARNING - Failed to parse decision making result as JSON
2025-03-25 00:42:59,377 - arag.agents.decision - INFO - Decision: continue with confidence 50
2025-03-25 00:42:59,377 - arag.agents.process - INFO - Generating process narrative for stage: decision
2025-03-25 00:43:00,144 - arag.core.ai_client - INFO - Generated process narrative for stage: decision
2025-03-25 00:43:00,145 - arag.agents.process - INFO - Generated process narrative for stage: decision
2025-03-25 00:43:00,145 - arag.core.orchestrator - INFO - Decision making completed in 2.50s
2025-03-25 00:43:00,145 - arag.core.orchestrator - INFO - Starting iteration 3/3
2025-03-25 00:43:00,145 - arag.core.orchestrator - INFO - Running Query Rewriter Agent
2025-03-25 00:43:00,145 - arag.agents.query_rewriter - INFO - Rewriting query: What is equal opportunity employment?
2025-03-25 00:43:01,077 - arag.core.ai_client - INFO - Generated 3 query variations
2025-03-25 00:43:01,078 - arag.agents.query_rewriter - INFO - Generated 3 query variations
2025-03-25 00:43:01,078 - arag.agents.process - INFO - Generating process narrative for stage: query_rewriting
2025-03-25 00:43:01,998 - arag.core.ai_client - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:43:01,998 - arag.agents.process - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:43:01,998 - arag.core.orchestrator - INFO - Query rewriting completed in 1.85s
2025-03-25 00:43:01,998 - arag.core.orchestrator - INFO - Running Document Retrieval
2025-03-25 00:43:01,998 - arag.core.vector_db - INFO - Batch querying vector DB with 3 queries
2025-03-25 00:43:01,998 - arag.core.vector_db - INFO - Querying vector DB for: "equal opportunity employment" definition...
2025-03-25 00:43:02,093 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:43:02,093 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:43:02,098 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:43:02,098 - arag.core.vector_db - INFO - Querying vector DB for: "EEO" policy guidelines...
2025-03-25 00:43:02,126 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:43:02,126 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:43:02,131 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:43:02,131 - arag.core.vector_db - INFO - Querying vector DB for: "fair employment practices" legal requirements...
2025-03-25 00:43:02,162 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:43:02,162 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:43:02,167 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:43:02,167 - arag.core.vector_db - INFO - Batch query returned 12 unique documents
2025-03-25 00:43:02,167 - arag.agents.process - INFO - Generating process narrative for stage: document_retrieval
2025-03-25 00:43:02,916 - arag.core.ai_client - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:43:02,916 - arag.agents.process - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:43:02,916 - arag.core.orchestrator - INFO - Document retrieval completed in 0.92s
2025-03-25 00:43:02,917 - arag.core.orchestrator - INFO - Running Knowledge Agent
2025-03-25 00:43:02,917 - arag.agents.knowledge_extractor - INFO - Extracting knowledge from 12 document chunks
2025-03-25 00:43:05,107 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 6 column 1 (char 732)
2025-03-25 00:43:05,107 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:07,798 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 7 column 1 (char 752)
2025-03-25 00:43:07,798 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:08,329 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:43:08,329 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:12,034 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 10 column 1 (char 1178)
2025-03-25 00:43:12,035 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:12,576 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:43:12,576 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:13,162 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:43:13,163 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:13,674 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:43:13,674 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:14,180 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:43:14,180 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:14,680 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:43:14,681 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:15,208 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:43:15,209 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:15,822 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:43:15,823 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:16,305 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document Google Code of Conduct: Extra data: line 2 column 1 (char 24)
2025-03-25 00:43:16,305 - arag.core.ai_client - INFO - Created minimal fallback knowledge item for document Google Code of Conduct
2025-03-25 00:43:16,305 - arag.agents.knowledge_extractor - INFO - Extracted 12 knowledge items
2025-03-25 00:43:16,305 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_extraction
2025-03-25 00:43:17,051 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:43:17,051 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:43:17,051 - arag.core.orchestrator - INFO - Knowledge extraction completed in 14.13s
2025-03-25 00:43:17,051 - arag.core.orchestrator - INFO - Running Missing Info Agent
2025-03-25 00:43:17,051 - arag.agents.missing_info - INFO - Identifying missing information in 13 knowledge items
2025-03-25 00:43:24,204 - arag.core.ai_client - WARNING - Failed to parse missing info identification result as JSON
2025-03-25 00:43:24,204 - arag.agents.missing_info - INFO - Identified 0 missing information references
2025-03-25 00:43:24,204 - arag.agents.process - INFO - Generating process narrative for stage: missing_info
2025-03-25 00:43:24,892 - arag.core.ai_client - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:43:24,893 - arag.agents.process - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:43:24,893 - arag.core.orchestrator - INFO - Missing info identification completed in 7.84s
2025-03-25 00:43:24,893 - arag.core.orchestrator - INFO - Running Knowledge Gaps Agent
2025-03-25 00:43:24,893 - arag.agents.knowledge_gaps - INFO - Identifying knowledge gaps in 13 knowledge items
2025-03-25 00:43:29,135 - arag.core.ai_client - WARNING - Failed to parse knowledge gaps identification result as JSON
2025-03-25 00:43:29,135 - arag.agents.knowledge_gaps - INFO - Identified 0 knowledge gaps with completeness score 0
2025-03-25 00:43:29,135 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_gaps
2025-03-25 00:43:29,811 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:43:29,812 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:43:29,812 - arag.core.orchestrator - INFO - Knowledge gap analysis completed in 4.92s
2025-03-25 00:43:29,812 - arag.core.orchestrator - INFO - Running Decision Agent
2025-03-25 00:43:29,812 - arag.agents.decision - INFO - Making decision at iteration 3/3
2025-03-25 00:43:31,593 - arag.core.ai_client - WARNING - Failed to parse decision making result as JSON
2025-03-25 00:43:31,594 - arag.agents.decision - INFO - Decision: complete with confidence 50
2025-03-25 00:43:31,594 - arag.agents.process - INFO - Generating process narrative for stage: decision
2025-03-25 00:43:32,514 - arag.core.ai_client - INFO - Generated process narrative for stage: decision
2025-03-25 00:43:32,514 - arag.agents.process - INFO - Generated process narrative for stage: decision
2025-03-25 00:43:32,515 - arag.core.orchestrator - INFO - Decision making completed in 2.70s
2025-03-25 00:43:32,515 - arag.core.orchestrator - INFO - Decision to complete after iteration 3
2025-03-25 00:43:32,515 - arag.core.orchestrator - INFO - Running Answer Agent
2025-03-25 00:43:32,515 - arag.agents.answer - INFO - Generating answer based on 13 knowledge items
2025-03-25 00:43:32,515 - arag.agents.answer - INFO - Filtered to 13 most relevant knowledge items
2025-03-25 00:43:34,155 - arag.core.ai_client - WARNING - Failed to parse answer generation result as JSON
2025-03-25 00:43:34,155 - arag.agents.answer - INFO - Generated answer with 0 citations
2025-03-25 00:43:34,155 - arag.agents.process - INFO - Generating process narrative for stage: answer_generation
2025-03-25 00:43:34,972 - arag.core.ai_client - INFO - Generated process narrative for stage: answer_generation
2025-03-25 00:43:34,972 - arag.agents.process - INFO - Generated process narrative for stage: answer_generation
2025-03-25 00:43:34,973 - arag.core.orchestrator - INFO - Answer generation completed in 2.46s
2025-03-25 00:43:34,973 - arag.core.orchestrator - INFO - Running Evaluator Agent
2025-03-25 00:43:34,973 - arag.agents.evaluator - INFO - Evaluating answer of length 136
2025-03-25 00:43:39,582 - arag.core.ai_client - WARNING - Failed to parse answer evaluation result as JSON
2025-03-25 00:43:39,583 - arag.agents.evaluator - INFO - Evaluation complete with overall score: 5
2025-03-25 00:43:39,584 - arag.agents.process - INFO - Generating process narrative for stage: evaluation
2025-03-25 00:43:40,249 - arag.core.ai_client - INFO - Generated process narrative for stage: evaluation
2025-03-25 00:43:40,249 - arag.agents.process - INFO - Generated process narrative for stage: evaluation
2025-03-25 00:43:40,249 - arag.core.orchestrator - INFO - Answer evaluation completed in 5.28s
2025-03-25 00:43:40,249 - arag.core.orchestrator - INFO - Running Improver Agent
2025-03-25 00:43:40,249 - arag.agents.improver - INFO - Improving answer based on evaluation with 1 feedback items
2025-03-25 00:43:47,365 - arag.core.ai_client - WARNING - Failed to parse answer improvement result as JSON
2025-03-25 00:43:47,366 - arag.agents.improver - INFO - Improved answer with 0 improvements
2025-03-25 00:43:47,366 - arag.agents.process - INFO - Generating process narrative for stage: improvement
2025-03-25 00:43:48,048 - arag.core.ai_client - INFO - Generated process narrative for stage: improvement
2025-03-25 00:43:48,048 - arag.agents.process - INFO - Generated process narrative for stage: improvement
2025-03-25 00:43:48,049 - arag.core.orchestrator - INFO - Answer improvement completed in 7.80s
2025-03-25 00:43:48,053 - arag.core.memory - INFO - Memory saved to output/memory-2425e376-5631-49cd-b726-5a94d8604029-20250325-004348.json
2025-03-25 00:43:48,054 - arag - INFO - [Session: 2425e376-5631-49cd-b726-5a94d8604029] Query processed in 115.02s
