2025-03-25 00:35:59,296 - root - INFO - Logging initialized with level INFO
2025-03-25 00:35:59,296 - root - INFO - Log file: logs/arag-20250325-003559.log
2025-03-25 00:35:59,296 - arag - INFO - [Session: 6f38b60c-9b86-4da1-b0f8-b35a82da9a6a] Processing query: What is equal opportunity employement?
2025-03-25 00:35:59,316 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-03-25 00:35:59,317 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: BAAI/bge-large-en
2025-03-25 00:36:03,304 - arag.core.vector_db - INFO - Initialized sentence-transformers model
2025-03-25 00:36:03,305 - arag.core.vector_db - INFO - Vector DB client initialized with base URL: http://localhost:8765
2025-03-25 00:36:03,401 - httpx - INFO - HTTP Request: GET http://localhost:8765/v1/.well-known/openid-configuration "HTTP/1.1 404 Not Found"
2025-03-25 00:36:03,414 - httpx - INFO - HTTP Request: GET http://localhost:8765/v1/meta "HTTP/1.1 200 OK"
2025-03-25 00:36:03,551 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-03-25 00:36:03,595 - arag.core.vector_db - INFO - Connected to Weaviate at http://localhost:8765
2025-03-25 00:36:03,595 - arag.core.ai_client - INFO - Google AI client initialized
2025-03-25 00:36:03,595 - arag.core.vector_db - INFO - Performing health check for vector DB type: weaviate
2025-03-25 00:36:03,599 - httpx - INFO - HTTP Request: GET http://localhost:8765/v1/.well-known/ready "HTTP/1.1 200 OK"
2025-03-25 00:36:03,600 - arag.agents.query_rewriter - INFO - Query Rewriter Agent initialized
2025-03-25 00:36:03,600 - arag.agents.knowledge_extractor - INFO - Knowledge Extractor Agent initialized
2025-03-25 00:36:03,600 - arag.agents.missing_info - INFO - Missing Info Agent initialized
2025-03-25 00:36:03,600 - arag.agents.knowledge_gaps - INFO - Knowledge Gaps Agent initialized
2025-03-25 00:36:03,600 - arag.agents.decision - INFO - Decision Agent initialized
2025-03-25 00:36:03,600 - arag.agents.answer - INFO - Answer Agent initialized
2025-03-25 00:36:03,600 - arag.agents.evaluator - INFO - Evaluator Agent initialized
2025-03-25 00:36:03,600 - arag.agents.improver - INFO - Improver Agent initialized
2025-03-25 00:36:03,600 - arag.agents.process - INFO - Process Agent initialized
2025-03-25 00:36:03,600 - arag.core.orchestrator - INFO - Orchestrator initialized with all agents
2025-03-25 00:36:03,600 - arag.core.memory - INFO - Memory initialized for session 6f38b60c-9b86-4da1-b0f8-b35a82da9a6a
2025-03-25 00:36:03,600 - arag.agents.process - INFO - Generating process narrative for stage: initialization
2025-03-25 00:36:04,694 - arag.core.ai_client - INFO - Generated process narrative for stage: initialization
2025-03-25 00:36:04,695 - arag.agents.process - INFO - Generated process narrative for stage: initialization
2025-03-25 00:36:04,695 - arag.core.orchestrator - INFO - Starting iteration 1/3
2025-03-25 00:36:04,695 - arag.core.orchestrator - INFO - Running Query Rewriter Agent
2025-03-25 00:36:04,695 - arag.agents.query_rewriter - INFO - Rewriting query: What is equal opportunity employement?
2025-03-25 00:36:05,581 - arag.core.ai_client - INFO - Generated 3 query variations
2025-03-25 00:36:05,582 - arag.agents.query_rewriter - INFO - Generated 3 query variations
2025-03-25 00:36:05,582 - arag.agents.process - INFO - Generating process narrative for stage: query_rewriting
2025-03-25 00:36:06,469 - arag.core.ai_client - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:36:06,470 - arag.agents.process - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:36:06,470 - arag.core.orchestrator - INFO - Query rewriting completed in 1.77s
2025-03-25 00:36:06,470 - arag.core.orchestrator - INFO - Running Document Retrieval
2025-03-25 00:36:06,470 - arag.core.vector_db - INFO - Batch querying vector DB with 3 queries
2025-03-25 00:36:06,470 - arag.core.vector_db - INFO - Querying vector DB for: "equal opportunity employment definition"...
2025-03-25 00:36:06,942 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:36:06,942 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:36:06,952 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:36:06,952 - arag.core.vector_db - INFO - Querying vector DB for: "EEO legal requirements"...
2025-03-25 00:36:06,980 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:36:06,981 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:36:06,986 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:36:06,987 - arag.core.vector_db - INFO - Querying vector DB for: "anti-discrimination workplace policy"...
2025-03-25 00:36:07,070 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:36:07,070 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:36:07,076 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:36:07,076 - arag.core.vector_db - INFO - Batch query returned 14 unique documents
2025-03-25 00:36:07,076 - arag.agents.process - INFO - Generating process narrative for stage: document_retrieval
2025-03-25 00:36:07,868 - arag.core.ai_client - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:36:07,869 - arag.agents.process - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:36:07,869 - arag.core.orchestrator - INFO - Document retrieval completed in 1.40s
2025-03-25 00:36:07,869 - arag.core.orchestrator - INFO - Running Knowledge Agent
2025-03-25 00:36:07,869 - arag.agents.knowledge_extractor - INFO - Extracting knowledge from 14 document chunks
2025-03-25 00:36:10,634 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 8 column 1 (char 834)
2025-03-25 00:36:10,634 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:11,203 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:11,203 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:11,775 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:11,776 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:15,035 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 24 column 1 (char 1006)
2025-03-25 00:36:15,036 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:15,651 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:15,651 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:16,265 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:16,265 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:16,878 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:16,879 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:17,596 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:17,596 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:18,060 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:18,061 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:18,619 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:18,619 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:19,188 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:19,188 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:19,714 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:19,714 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:20,290 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:20,290 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:24,458 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 25 column 1 (char 1404)
2025-03-25 00:36:24,458 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:24,458 - arag.agents.knowledge_extractor - INFO - Extracted 14 knowledge items
2025-03-25 00:36:24,458 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_extraction
2025-03-25 00:36:25,148 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:36:25,148 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:36:25,148 - arag.core.orchestrator - INFO - Knowledge extraction completed in 17.28s
2025-03-25 00:36:25,148 - arag.core.orchestrator - INFO - Running Missing Info Agent
2025-03-25 00:36:25,148 - arag.agents.missing_info - INFO - Identifying missing information in 14 knowledge items
2025-03-25 00:36:29,364 - arag.core.ai_client - WARNING - Failed to parse missing info identification result as JSON
2025-03-25 00:36:29,364 - arag.agents.missing_info - INFO - Identified 0 missing information references
2025-03-25 00:36:29,364 - arag.agents.process - INFO - Generating process narrative for stage: missing_info
2025-03-25 00:36:30,192 - arag.core.ai_client - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:36:30,192 - arag.agents.process - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:36:30,193 - arag.core.orchestrator - INFO - Missing info identification completed in 5.04s
2025-03-25 00:36:30,193 - arag.core.orchestrator - INFO - Running Knowledge Gaps Agent
2025-03-25 00:36:30,193 - arag.agents.knowledge_gaps - INFO - Identifying knowledge gaps in 14 knowledge items
2025-03-25 00:36:34,314 - arag.core.ai_client - WARNING - Failed to parse knowledge gaps identification result as JSON
2025-03-25 00:36:34,315 - arag.agents.knowledge_gaps - INFO - Identified 0 knowledge gaps with completeness score 0
2025-03-25 00:36:34,315 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_gaps
2025-03-25 00:36:35,106 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:36:35,106 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:36:35,107 - arag.core.orchestrator - INFO - Knowledge gap analysis completed in 4.91s
2025-03-25 00:36:35,107 - arag.core.orchestrator - INFO - Running Decision Agent
2025-03-25 00:36:35,107 - arag.agents.decision - INFO - Making decision at iteration 1/3
2025-03-25 00:36:37,156 - arag.core.ai_client - WARNING - Failed to parse decision making result as JSON
2025-03-25 00:36:37,156 - arag.agents.decision - INFO - Decision: continue with confidence 50
2025-03-25 00:36:37,157 - arag.agents.process - INFO - Generating process narrative for stage: decision
2025-03-25 00:36:37,974 - arag.core.ai_client - INFO - Generated process narrative for stage: decision
2025-03-25 00:36:37,975 - arag.agents.process - INFO - Generated process narrative for stage: decision
2025-03-25 00:36:37,975 - arag.core.orchestrator - INFO - Decision making completed in 2.87s
2025-03-25 00:36:37,975 - arag.core.orchestrator - INFO - Starting iteration 2/3
2025-03-25 00:36:37,975 - arag.core.orchestrator - INFO - Running Query Rewriter Agent
2025-03-25 00:36:37,975 - arag.agents.query_rewriter - INFO - Rewriting query: What is equal opportunity employement?
2025-03-25 00:36:38,895 - arag.core.ai_client - INFO - Generated 3 query variations
2025-03-25 00:36:38,895 - arag.agents.query_rewriter - INFO - Generated 3 query variations
2025-03-25 00:36:38,895 - arag.agents.process - INFO - Generating process narrative for stage: query_rewriting
2025-03-25 00:36:39,714 - arag.core.ai_client - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:36:39,714 - arag.agents.process - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:36:39,715 - arag.core.orchestrator - INFO - Query rewriting completed in 1.74s
2025-03-25 00:36:39,715 - arag.core.orchestrator - INFO - Running Document Retrieval
2025-03-25 00:36:39,715 - arag.core.vector_db - INFO - Batch querying vector DB with 3 queries
2025-03-25 00:36:39,715 - arag.core.vector_db - INFO - Querying vector DB for: "equal opportunity employment definition"...
2025-03-25 00:36:39,819 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:36:39,819 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:36:39,824 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:36:39,825 - arag.core.vector_db - INFO - Querying vector DB for: "EEO legal requirements"...
2025-03-25 00:36:39,853 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:36:39,853 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:36:39,858 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:36:39,858 - arag.core.vector_db - INFO - Querying vector DB for: "preventing workplace discrimination"...
2025-03-25 00:36:39,937 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:36:39,937 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:36:39,941 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:36:39,942 - arag.core.vector_db - INFO - Batch query returned 13 unique documents
2025-03-25 00:36:39,942 - arag.agents.process - INFO - Generating process narrative for stage: document_retrieval
2025-03-25 00:36:40,745 - arag.core.ai_client - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:36:40,745 - arag.agents.process - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:36:40,745 - arag.core.orchestrator - INFO - Document retrieval completed in 1.03s
2025-03-25 00:36:40,746 - arag.core.orchestrator - INFO - Running Knowledge Agent
2025-03-25 00:36:40,746 - arag.agents.knowledge_extractor - INFO - Extracting knowledge from 13 document chunks
2025-03-25 00:36:43,605 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 8 column 1 (char 962)
2025-03-25 00:36:43,605 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:44,220 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:44,221 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:44,693 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:44,694 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:48,011 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 24 column 1 (char 1006)
2025-03-25 00:36:48,011 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:48,624 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:48,624 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:49,203 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:49,203 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:49,750 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:49,750 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:50,303 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:50,303 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:50,856 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:50,856 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:51,357 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:51,357 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:51,901 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:51,901 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:56,099 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 25 column 1 (char 1404)
2025-03-25 00:36:56,099 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:56,610 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:36:56,610 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:36:56,610 - arag.agents.knowledge_extractor - INFO - Extracted 13 knowledge items
2025-03-25 00:36:56,610 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_extraction
2025-03-25 00:36:57,430 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:36:57,431 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:36:57,431 - arag.core.orchestrator - INFO - Knowledge extraction completed in 16.69s
2025-03-25 00:36:57,431 - arag.core.orchestrator - INFO - Running Missing Info Agent
2025-03-25 00:36:57,431 - arag.agents.missing_info - INFO - Identifying missing information in 14 knowledge items
2025-03-25 00:37:01,117 - arag.core.ai_client - WARNING - Failed to parse missing info identification result as JSON
2025-03-25 00:37:01,118 - arag.agents.missing_info - INFO - Identified 0 missing information references
2025-03-25 00:37:01,118 - arag.agents.process - INFO - Generating process narrative for stage: missing_info
2025-03-25 00:37:01,834 - arag.core.ai_client - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:37:01,835 - arag.agents.process - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:37:01,835 - arag.core.orchestrator - INFO - Missing info identification completed in 4.40s
2025-03-25 00:37:01,835 - arag.core.orchestrator - INFO - Running Knowledge Gaps Agent
2025-03-25 00:37:01,835 - arag.agents.knowledge_gaps - INFO - Identifying knowledge gaps in 14 knowledge items
2025-03-25 00:37:05,920 - arag.core.ai_client - WARNING - Failed to parse knowledge gaps identification result as JSON
2025-03-25 00:37:05,920 - arag.agents.knowledge_gaps - INFO - Identified 0 knowledge gaps with completeness score 0
2025-03-25 00:37:05,921 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_gaps
2025-03-25 00:37:06,748 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:37:06,749 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:37:06,749 - arag.core.orchestrator - INFO - Knowledge gap analysis completed in 4.91s
2025-03-25 00:37:06,749 - arag.core.orchestrator - INFO - Running Decision Agent
2025-03-25 00:37:06,749 - arag.agents.decision - INFO - Making decision at iteration 2/3
2025-03-25 00:37:08,390 - arag.core.ai_client - WARNING - Failed to parse decision making result as JSON
2025-03-25 00:37:08,390 - arag.agents.decision - INFO - Decision: continue with confidence 50
2025-03-25 00:37:08,390 - arag.agents.process - INFO - Generating process narrative for stage: decision
2025-03-25 00:37:09,207 - arag.core.ai_client - INFO - Generated process narrative for stage: decision
2025-03-25 00:37:09,208 - arag.agents.process - INFO - Generated process narrative for stage: decision
2025-03-25 00:37:09,208 - arag.core.orchestrator - INFO - Decision making completed in 2.46s
2025-03-25 00:37:09,208 - arag.core.orchestrator - INFO - Starting iteration 3/3
2025-03-25 00:37:09,208 - arag.core.orchestrator - INFO - Running Query Rewriter Agent
2025-03-25 00:37:09,208 - arag.agents.query_rewriter - INFO - Rewriting query: What is equal opportunity employement?
2025-03-25 00:37:10,028 - arag.core.ai_client - INFO - Generated 3 query variations
2025-03-25 00:37:10,028 - arag.agents.query_rewriter - INFO - Generated 3 query variations
2025-03-25 00:37:10,028 - arag.agents.process - INFO - Generating process narrative for stage: query_rewriting
2025-03-25 00:37:10,948 - arag.core.ai_client - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:37:10,948 - arag.agents.process - INFO - Generated process narrative for stage: query_rewriting
2025-03-25 00:37:10,948 - arag.core.orchestrator - INFO - Query rewriting completed in 1.74s
2025-03-25 00:37:10,948 - arag.core.orchestrator - INFO - Running Document Retrieval
2025-03-25 00:37:10,949 - arag.core.vector_db - INFO - Batch querying vector DB with 3 queries
2025-03-25 00:37:10,949 - arag.core.vector_db - INFO - Querying vector DB for: "equal opportunity employment definition"...
2025-03-25 00:37:11,038 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:37:11,038 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:37:11,042 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:37:11,042 - arag.core.vector_db - INFO - Querying vector DB for: "EEO legal requirements"...
2025-03-25 00:37:11,070 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:37:11,071 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:37:11,074 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:37:11,074 - arag.core.vector_db - INFO - Querying vector DB for: "preventing workplace discrimination"...
2025-03-25 00:37:11,102 - arag.core.vector_db - ERROR - Vector search error: _NearVectorQueryAsync.near_vector() got an unexpected keyword argument 'vector'
2025-03-25 00:37:11,102 - arag.core.vector_db - WARNING - Vector search failed, falling back to BM25 text search
2025-03-25 00:37:11,105 - arag.core.vector_db - INFO - Found 5 documents with text search
2025-03-25 00:37:11,106 - arag.core.vector_db - INFO - Batch query returned 13 unique documents
2025-03-25 00:37:11,106 - arag.agents.process - INFO - Generating process narrative for stage: document_retrieval
2025-03-25 00:37:11,863 - arag.core.ai_client - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:37:11,863 - arag.agents.process - INFO - Generated process narrative for stage: document_retrieval
2025-03-25 00:37:11,863 - arag.core.orchestrator - INFO - Document retrieval completed in 0.91s
2025-03-25 00:37:11,863 - arag.core.orchestrator - INFO - Running Knowledge Agent
2025-03-25 00:37:11,863 - arag.agents.knowledge_extractor - INFO - Extracting knowledge from 13 document chunks
2025-03-25 00:37:14,633 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 8 column 1 (char 962)
2025-03-25 00:37:14,634 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:15,146 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:37:15,146 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:15,761 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:37:15,761 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:20,217 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 34 column 1 (char 1383)
2025-03-25 00:37:20,217 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:20,713 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:37:20,713 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:21,292 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:37:21,292 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:21,906 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:37:21,907 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:22,519 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:37:22,519 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:23,034 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:37:23,035 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:23,645 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:37:23,645 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:24,146 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:37:24,146 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:28,316 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 25 column 1 (char 1401)
2025-03-25 00:37:28,317 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:28,937 - arag.core.ai_client - WARNING - Failed to parse knowledge extraction result as JSON for document unknown: Extra data: line 2 column 1 (char 24)
2025-03-25 00:37:28,937 - arag.core.ai_client - INFO - Created fallback knowledge item for document unknown
2025-03-25 00:37:28,937 - arag.agents.knowledge_extractor - INFO - Extracted 13 knowledge items
2025-03-25 00:37:28,938 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_extraction
2025-03-25 00:37:29,687 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:37:29,687 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_extraction
2025-03-25 00:37:29,687 - arag.core.orchestrator - INFO - Knowledge extraction completed in 17.82s
2025-03-25 00:37:29,687 - arag.core.orchestrator - INFO - Running Missing Info Agent
2025-03-25 00:37:29,687 - arag.agents.missing_info - INFO - Identifying missing information in 14 knowledge items
2025-03-25 00:37:33,885 - arag.core.ai_client - WARNING - Failed to parse missing info identification result as JSON
2025-03-25 00:37:33,886 - arag.agents.missing_info - INFO - Identified 0 missing information references
2025-03-25 00:37:33,886 - arag.agents.process - INFO - Generating process narrative for stage: missing_info
2025-03-25 00:37:34,604 - arag.core.ai_client - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:37:34,604 - arag.agents.process - INFO - Generated process narrative for stage: missing_info
2025-03-25 00:37:34,604 - arag.core.orchestrator - INFO - Missing info identification completed in 4.92s
2025-03-25 00:37:34,604 - arag.core.orchestrator - INFO - Running Knowledge Gaps Agent
2025-03-25 00:37:34,604 - arag.agents.knowledge_gaps - INFO - Identifying knowledge gaps in 14 knowledge items
2025-03-25 00:37:38,801 - arag.core.ai_client - WARNING - Failed to parse knowledge gaps identification result as JSON
2025-03-25 00:37:38,802 - arag.agents.knowledge_gaps - INFO - Identified 0 knowledge gaps with completeness score 0
2025-03-25 00:37:38,802 - arag.agents.process - INFO - Generating process narrative for stage: knowledge_gaps
2025-03-25 00:37:39,520 - arag.core.ai_client - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:37:39,520 - arag.agents.process - INFO - Generated process narrative for stage: knowledge_gaps
2025-03-25 00:37:39,520 - arag.core.orchestrator - INFO - Knowledge gap analysis completed in 4.92s
2025-03-25 00:37:39,520 - arag.core.orchestrator - INFO - Running Decision Agent
2025-03-25 00:37:39,520 - arag.agents.decision - INFO - Making decision at iteration 3/3
2025-03-25 00:37:41,264 - arag.core.ai_client - WARNING - Failed to parse decision making result as JSON
2025-03-25 00:37:41,265 - arag.agents.decision - INFO - Decision: complete with confidence 50
2025-03-25 00:37:41,265 - arag.agents.process - INFO - Generating process narrative for stage: decision
2025-03-25 00:37:41,938 - arag.core.ai_client - INFO - Generated process narrative for stage: decision
2025-03-25 00:37:41,938 - arag.agents.process - INFO - Generated process narrative for stage: decision
2025-03-25 00:37:41,938 - arag.core.orchestrator - INFO - Decision making completed in 2.42s
2025-03-25 00:37:41,938 - arag.core.orchestrator - INFO - Decision to complete after iteration 3
2025-03-25 00:37:41,939 - arag.core.orchestrator - INFO - Running Answer Agent
2025-03-25 00:37:41,939 - arag.agents.answer - INFO - Generating answer based on 14 knowledge items
2025-03-25 00:37:45,468 - arag.core.ai_client - WARNING - Failed to parse answer generation result as JSON
2025-03-25 00:37:45,469 - arag.agents.answer - INFO - Generated answer with 0 citations
2025-03-25 00:37:45,469 - arag.agents.process - INFO - Generating process narrative for stage: answer_generation
2025-03-25 00:37:46,174 - arag.core.ai_client - INFO - Generated process narrative for stage: answer_generation
2025-03-25 00:37:46,174 - arag.agents.process - INFO - Generated process narrative for stage: answer_generation
2025-03-25 00:37:46,174 - arag.core.orchestrator - INFO - Answer generation completed in 4.24s
2025-03-25 00:37:46,175 - arag.core.orchestrator - INFO - Running Evaluator Agent
2025-03-25 00:37:46,175 - arag.agents.evaluator - INFO - Evaluating answer of length 136
2025-03-25 00:37:50,375 - arag.core.ai_client - WARNING - Failed to parse answer evaluation result as JSON
2025-03-25 00:37:50,375 - arag.agents.evaluator - INFO - Evaluation complete with overall score: 5
2025-03-25 00:37:50,375 - arag.agents.process - INFO - Generating process narrative for stage: evaluation
2025-03-25 00:37:51,161 - arag.core.ai_client - INFO - Generated process narrative for stage: evaluation
2025-03-25 00:37:51,161 - arag.agents.process - INFO - Generated process narrative for stage: evaluation
2025-03-25 00:37:51,162 - arag.core.orchestrator - INFO - Answer evaluation completed in 4.99s
2025-03-25 00:37:51,162 - arag.core.orchestrator - INFO - Running Improver Agent
2025-03-25 00:37:51,162 - arag.agents.improver - INFO - Improving answer based on evaluation with 1 feedback items
2025-03-25 00:37:59,129 - arag.core.ai_client - WARNING - Failed to parse answer improvement result as JSON
2025-03-25 00:37:59,129 - arag.agents.improver - INFO - Improved answer with 0 improvements
2025-03-25 00:37:59,129 - arag.agents.process - INFO - Generating process narrative for stage: improvement
2025-03-25 00:37:59,749 - arag.core.ai_client - INFO - Generated process narrative for stage: improvement
2025-03-25 00:37:59,749 - arag.agents.process - INFO - Generated process narrative for stage: improvement
2025-03-25 00:37:59,749 - arag.core.orchestrator - INFO - Answer improvement completed in 8.59s
2025-03-25 00:37:59,754 - arag.core.memory - INFO - Memory saved to output/memory-6f38b60c-9b86-4da1-b0f8-b35a82da9a6a-20250325-003759.json
2025-03-25 00:37:59,755 - arag - INFO - [Session: 6f38b60c-9b86-4da1-b0f8-b35a82da9a6a] Query processed in 116.15s
